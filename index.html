<!DOCTYPE html>
<!-- FROM: https://www.d3-graph-gallery.com/graph/network_basic.html -->
<meta charset="utf-8">
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='X-UA-Compatible' content='IE=edge'>
<meta name='description' content='Network visualizer'>
<meta name='author' content='Rodrigo Zepeda Tello & Karl García Ruiz'>
<head>
<link rel="stylesheet" href="bootstrap.min.css">
<style> /* set the CSS */

/* https://stackoverflow.com/questions/7117073/how-to-add-a-tooltip-to-a-div */
[tooltip]:before {
    /* needed - do not touch */
    content: attr(tooltip);
    position: absolute;
    opacity: 0;

    /* customizable */
    transition: all 0.15s ease;
    padding: 10px;
    color: #333;
    border-radius: 0px;
    box-shadow: 3px 3px 2px #4E5D6C;
    z-index: 98;
}

[tooltip]:hover:before {
    /* needed - do not touch */
    opacity: 1;

    /* customizable */
    background: #5bc0de;
    margin-top: -40px;
    margin-left: -10px;
}

[tooltip]:not([tooltip-persistent]):before {
    pointer-events: none;
}

[draggable=true] {
  cursor: move;
}

body {
  font: 12px Arial;
  background-color: #2B3E50;
  overflow: hidden;
}


.links line {
  stroke: #999;
  stroke-opacity: 0.6;
}

.btn-file {
   background-color: white;
   border-color: #000026;
}

.selected-link {
  stroke: red;
}

div.tooltip {
    position: absolute;
    text-align: left;
    width: 250px;
    height: 250px;
    padding: 0px;
    /*overflow: scroll;*/
    /*color: black;
    font: 16px sans-serif;
    border: 0px;*/
    border-radius: 2px;
    pointer-events: none;
}

.hidebutton {
  height: 25px;
  width: 6.3%;
  top: 1px;
  position: fixed;
}

.panel-container {
  height: 100vh;
  width: 20%;
  position: fixed;
  text-align: left;
  padding-top: 25px;
  opacity: 0.95;
  overflow-y: scroll;

  /* Hide scrollbars */
  scrollbar-width: none !important;
  overflow: -moz-scrollbars-none  !important;
  -ms-overflow-style: none  !important;
}

/*Hide scrollbars*/
.panel-container::-webkit-scrollbar { width: 0 !important }


.stats-container {
  top: 0px;
  right: 0px;
}

.first-leftpanel {
  left: 0%;
  width: 20%;
}

.first-rightpanel {
  right: 0%;
  width: 20%;
}

.second-leftpanel {
  left: 20%;
  width: 20%;
}

.third-leftpanel {
  left: 40%;
  width: 20%;
}

.second-rightpanel{
  right: 20%;
  width: 20%;
}

.analysis-container {
  top: 0px;
  left: 0px;
  padding-right: 0px;
}

.options-container {
  top: 0px;
  left: 40%;
  padding-right: 0px;
}

.filter-container {
  top: 0px;
  left: 20%;
  padding-right: 0px;
}

.full-width {
   width:100%;
}

.loading-card{
  width: 100%;
  height: 100vh;
  opacity: 0.5;
  top: 0%;
  position: fixed;
  z-index: 99;
  text-align: center;
  display: block;
  overflow: hidden;
  font-size: 1000%;
  padding-top: 20%;
}


</style>

<script src="jquery-1.12.4.js"></script>
<script src="jquery-ui.js"></script>
<script src="palette.js"></script>
<script src="rangeslider.min.js"></script>
<!-- Load d3.js -->
<script src="d3.v4.js"></script>
</head>

<body>


<!-- INFORMATION PANEL -->
<div class="card panel-container analysis-container border-info bg-dark" id = "leftpanel">
  <div class="card-body">
    <div class="card border-info bg-info mb-3" style="max-width: 20rem;">
      <div class="card-header" style="color: black;"><h5>INFORMATION</h5></div>
      <div class="card-body">
        <div class="form-group">
            <div class="input-group mb-3">
              <div class="custom-file">
                <input type="file" class="custom-file-input bg-info" id="inputGroupFile02">
                <label class="custom-file-label" for="inputGroupFile02">Choose file</label>
              </div>
            </div>
          </div>
      </div>
    </div>
  </div>
</div>


<!--FILTER PANEL -->
<div class="card panel-container filter-container border-success bg-dark" id = "fpanel">
  <div class="card-body">
    <div class="card border-success mb-3" style="max-width: 20rem;">
      <div class="card-header"><h5>FILTERS</h5></div>
      <div class="card-body">
        <!--<h4 class="card-title" id="linkornode">NAME</h4>-->
        <p class="card-text">CONTENT</p>
      </div>
    </div>
  </div>
</div>

<!--OPTIONS PANEL -->
<div class="card panel-container options-container border-light bg-dark" id = "optpanel">
  <div class="card-body">
    <div class="card border-light mb-3" style="max-width: 20rem;">
      <div class="card-header"><h5>OPTIONS</h5></div>
      <div class="card-body">
        <div class="form-group">
          <label class="col-form-label" for="inputNodeSize">Node size</label>
          <input type="number" class="form-control" placeholder="Node size" value="150" id="inputNodeSize">
          <label class="col-form-label" for="inputLinkSize">Link size</label>
          <input type="number" class="form-control" placeholder="Link size" value="1" id="inputLinkSize">
          <label class="col-form-label" for="inputStrength">Charge Strength</label>
          <input type="number" class="form-control" placeholder="Strength" value="1000" id="inputStrength">
          <label class="col-form-label" for="inputCollision">Collision</label>
          <input type="number" class="form-control" placeholder="Collision" value="0.8" id="inputCollision">
          <label class="col-form-label" for="inputLinkDistance">Link Distance</label>
          <input type="number" class="form-control" placeholder="Link Distance" value="10" id="inputLinkDistance">
          <label class="col-form-label" for="inputCenterX">Center X</label>
          <input type="range" min="0" max="1" step="0.01"  value="0.5" data-orientation="horizontal" id="inputCenterX">
          <label class="col-form-label" for="inputCenterY">Center Y</label>
          <input type="range" min="0" max="1" step="0.01"  value="0.5" data-orientation="horizontal" id="inputCenterY">
          <label class="col-form-label" for="inputDistanceMin">Min charge distance</label>
          <input type="number" class="form-control" placeholder="Charge distance min" id="inputDistanceMin">
          <label class="col-form-label" for="inputDistanceMax">Max charge distance</label>
          <input type="number" class="form-control" placeholder="Charge distance max" id="inputDistanceMax">
          <label class="col-form-label" for="inputXGravity">Gravity-X Strength</label>
          <input type="range" min="0" max="1" step="0.01"  value="0" data-orientation="horizontal" id="inputXGravity">
          <label class="col-form-label" for="inputYGravity">Gravity-Y Strength</label>
          <input type="range" min="0" max="1" step="0.01"  value="0" data-orientation="horizontal" id="inputYGravity">
          <label class="col-form-label" for="inputXGravityCoordinate">Gravity-X coordinate</label>
          <input type="number" class="form-control" placeholder="Y Gravity" value="1000" id="inputXGravityCoordinate">
          <label class="col-form-label" for="inputYGravityCoordinate">Gravity-Y coordinate</label>
          <input type="number" class="form-control" placeholder="Y Gravity" value="1000" id="inputYGravityCoordinate">
          <div style="text-align: center; padding-top: 10px;">
            <a href="#" class="btn btn-light" id="resetbutton">Reset</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- NODE PANEL -->
<div class="stats-container card border-warning mb-3 bg-dark panel-container first-rightpanel" id = "rightpanel">
  <div class="card-body">
    <div class="card border-warning bg-warning mb-3" style="color: black; max-width: 20rem;">
      <div class="card-header"><h5 id ="nodename">NODOS</h5></div>
      <div class="card-body">
        <p class="card-text" id="nodep">CONTENT</p>
      </div>
    </div>
    <div class="card border-warning mb-3" style="max-width: 20rem;"
      tooltip="Profesores de Tiempo Completo (PTC) y Técnicos Académicos (TA)." tooltip-persistent>
      <div class="card-header">Colaboradores</div>
      <div class="card-body">
        <p class="card-text">Some</p>
      </div>
    </div>
    <div class="card border-warning  mb-3" style="max-width: 20rem;"
      tooltip="Artículos (únicamente) de los colaboradores." tooltip-persistent>
      <div class="card-header">Artículos</div>
      <div class="card-body">
        <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
      </div>
    </div>
    <div class="card border-warning mb-3" style="max-width: 20rem;">
      <div class="card-header">Estadísticos</div>
        <div class="card-body container-fluid">
          <div class="row">
            <div class="card border-warning mb-3  col-xs-5" style="width: 45%; height: 10%;  margin-right: 1%; margin-left: 2%;"
              tooltip="Aproxima la probabilidad de que dos nodos se conecten entre sí." tooltip-persistent>
              <div class="card-header"><small>Page-Rank</small></div>
              <div class="card-body">
                <p class="card-text">Some quick example.</p>
              </div>
            </div>
            <div class="card border-warning mb-3  col-xs-5" style="width: 45%; height: 10%;  margin-right: 1%; margin-left: 2%;"
              tooltip="Mide la conectividad entre académicos influyentes, qué tanto colaboran aquellos con mayor grado." tooltip-persistent>
              <div class="card-header"><small>Centralidad</small></div>
              <div class="card-body">
                <!--<h4 class="card-title">Primary card title</h4>-->
                <p class="card-text">Some quick example.</p>
              </div>
            </div>
            <div class="card border-warning mb-3  col-xs-5" style="width: 45%; height: 10%;  margin-right: 1%; margin-left: 2%;"
              tooltip="Es (aproximadamente) el número de rutas más cortas entre nodos que pasan a través de un nodo en particular" tooltip-persistent>
              <div class="card-header"><small>Betweenness</small></div>
              <div class="card-body">
                <!--<h4 class="card-title">Primary card title</h4>-->
                <p class="card-text">Some quick example.</p>
              </div>
            </div>
            <div class="card border-warning mb-3  col-xs-5" style="width: 45%; height: 10%;  margin-right: 1%; margin-left: 2%;"
              tooltip="Son una medida de la centralidad de un nodo: el grado de colaboración (a mayores valores menor la colaboración, ya que significa un mayor aislamiento)" tooltip-persistent>
              <div class="card-header"><small>Cercanía</small></div>
              <div class="card-body">
                <!--<h4 class="card-title">Primary card title</h4>-->
                <p class="card-text">Some quick example.</p>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="card border-warning mb  col-xs-5" style="width: 45%; height: 10%; margin-right: 2%; margin-left: 2.5%;"
              tooltip="Número de aristas por nodo (número de colaboraciones por académico, también considerada como la influencia de cada autor en la red)." tooltip-persistent>
              <div class="card-header"><small>Grado</small></div>
              <div class="card-body">
                <p class="card-text">Some quick example.</p>
              </div>
            </div>
            <div class="card border-warning mb-3  col-xs-5" style="width: 45%; height: 10%;  margin-right: 1%; margin-left: 2%;"
              tooltip="Es una medida ponderada del grado. Esta se ve reflejada en el grueso de la arista." tooltip-persistent>
              <div class="card-header"><small>Fuerza</small></div>
              <div class="card-body">
                <!--<h4 class="card-title">Primary card title</h4>-->
                <p class="card-text">Some quick example.</p>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="card border-warning mb-3  col-xs-5" style="width: 95%; height: 10%;  margin-right: 1%; margin-left: 2%;"
            tooltip="Mide la centralidad de un nodo desde el punto de vista de a cuántos nodos está conectado un nodo en particular tales que dichos nodos tengan un grado alto." tooltip-persistent>
              <div class="card-header"><small>Calificación de centralidad</small></div>
              <div class="card-body">
                <!--<h4 class="card-title">Primary card title</h4>-->
                <p class="card-text">Some quick example.</p>
              </div>
            </div>
          </div>
      </div>
    </div>
  </div>
</div>

<!--- GRAPH PANEL --->
<div class="stats-container card border-danger mb-3 bg-dark panel-container second-rightpanel" id = "panelgraph">
  <div class="card-body">
    <div class="card border-danger bg-danger mb-3" style="max-width: 20rem;">
      <div class="card-header"><h5>GRAPH</h5></div>
      <div class="card-body">
        <!--<h4 class="card-title" id="linkornode">NAME</h4>-->
        <p class="card-text">FILENAME + FILTERS</p>
      </div>
    </div>
    <div class="card border-danger mb-3" id = "highest-degree-nodes" style="max-width: 20rem;"
        tooltip="Nodos con mayor cantidad de conexiones distintas sin considerar fuerza (cantidad de colaboraciones) de la misma conexión." tooltip-persistent>
      <div class="card-header">Nodos de más alto grado</div>
      <div class="card-body">
        <p class="card-text">Some</p>
      </div>
    </div>
    <div class="card border-danger mb-3" style="max-width: 20rem;"
    tooltip="Aristas con mayor grosor (número de colaboraciones entre dos académicos en particular)." tooltip-persistent>
      <div class="card-header">Vínculos de mayor ponderación</div>
      <div class="card-body">
        <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
      </div>
    </div>
    <div class="card border-danger mb-3" style="max-width: 20rem;">
      <div class="card-header">Estadísticos</div>
      <div class="card-body container-fluid">
        <div class="row">
          <div class="card border-danger mb-3  col-xs-5" style="width: 45%; height: 10%;  margin-right: 1%; margin-left: 2%;"
            tooltip="Promedio de aristas entre dos nodos (es una medida del tamaño de la red)" tooltip-persistent>
            <div class="card-header"><small>Distancia</small></div>
            <div class="card-body">
              <!--<h4 class="card-title">Primary card title</h4>-->
              <p class="card-text">Some quick example.</p>
            </div>
          </div>
          <div class="card border-danger mb-3  col-xs-5" style="width: 45%; height: 10%;  margin-right: 1%; margin-left: 2%;"
            tooltip="Es la distancia más larga, en número de aristas, entre dos nodos (es una medida del tamaño de la red)." tooltip-persistent>
            <div class="card-header"><small>Diámetro</small></div>
            <div class="card-body">
              <!--<h4 class="card-title">Primary card title</h4>-->
              <p class="card-text">Some quick example.</p>
            </div>
          </div>
          <div class="card border-danger mb-3  col-xs-5" style="width: 45%; height: 10%;  margin-right: 1%; margin-left: 2%;"
            tooltip="Es la razón entre el número de aristas de la red contra el total de aristas posibles en la misma (pensando en un grafo completo)." tooltip-persistent>
            <div class="card-header"><small>Densidad</small></div>
            <div class="card-body">
              <!--<h4 class="card-title">Primary card title</h4>-->
              <p class="card-text">Some quick example.</p>
            </div>
          </div>
          <div class="card border-danger mb-3  col-xs-5" style="width: 45%; height: 10%;  margin-right: 1%; margin-left: 2%;"
          tooltip=" Probabilidad de que nodos adyacentes estén conectados entre sí (también se le conoce como coeficiente de agrupamiento)." tooltip-persistent>
            <div class="card-header"><small>Transitividad</small></div>
            <div class="card-body">
              <!--<h4 class="card-title">Primary card title</h4>-->
              <p class="card-text">Some quick example.</p>
            </div>
          </div>
        </div>
    </div>
  </div>
  <div class="card border-danger mb-3" style="max-width: 20rem;"
  tooltip="Las redes se subdividen en comunidades de nodos con diferentes densidades de aristas (densidad de conexiones)." tooltip-persistent>
    <div class="card-header">Capas de comunidad (coreness)</div>
    <div class="card-body">
      <!--<h4 class="card-title">Primary card title</h4>-->
      <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
    </div>
  </div>
</div>
</div>

<!-- BUTTONS FOR PANELS -->
<button class="hidebutton first-leftpanel card border-info bg-info" style="font-size: 20px; width: 6.3%;" id = "datapanel"><b>D↳</b></button>
<button class="hidebutton third-leftpanel card border-light bg-light" style="font-size: 20px; width: 6.3%;" id = "optionpanel"><b>O↳</b></button>
<button class="hidebutton second-leftpanel card border-success bg-success" style="font-size: 20px; width: 6.3%;" id = "filterpanel"><b>F↳</b></button>
<button class="hidebutton card border-danger bg-danger second-rightpanel" style="font-size: 20px; width: 6.3%;" id = "graphpanel"><b>↲G</b></button>
<button class="hidebutton card border-warning bg-warning first-rightpanel" style="font-size: 20px; width: 6.3%;" id = "nodepanel"><b>↲N</b></button>

<!-- CANVAS -->
<div id="my_dataviz" style="text-align: center; height: 100vh;"></div>

<!-- LOADING SCREEN-->
<div id="loading" class = "card border-dark bg-dark loading-card"><p id="alpha_value"></p></div>


<script src="node_script.js"></script>
<script src="interactive_dom.js"></script>



</body>
